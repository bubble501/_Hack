最近一直在研究软件调试、网络、操作系统原理相关的知识，这些包括了计算机组成原理的绝大多数知识基础。期间也想过是否对于数据库进行比较深入的研究，一直没有机会，最近因为工作中的契机，所以开始找资料对数据库进行比较深入的研究

# 参考资料

* [《简介如何查看执行计划以及执行计划的准确性》](http://www.cnblogs.com/wingsless/archive/2012/02/24/2367176.html)
* [《看懂SqlServer查询计划》](http://www.cnblogs.com/fish-li/archive/2011/06/06/2073626.html)
* [《Oracle性能优化-读懂执行计划》](http://blog.csdn.net/lifetragedy/article/details/51320192)
* [《给PLSQL插上飞翔的翅膀-PLSQL优化》](http://blog.csdn.net/lifetragedy/article/details/51013069)
* [《How does a relational database work》](http://coding-geek.com/how-databases-work/)
* [《数据库的原理，一篇文章搞定（一）》](http://blog.csdn.net/zhangcanyan/article/details/51439012)
* [《数据库的原理，一篇文章搞定（二）》](http://blog.csdn.net/zhangcanyan/article/details/51439021)
* [《数据库的原理，一篇文章搞定（三）》](http://blog.csdn.net/zhangcanyan/article/details/51439034)

------

# 个人的一些思考

数据库的性能受到很多因素的影响：CPU、内存、磁盘、网络、开发语言（Delphi还是Proc）、数据库内数据的变化、数据库内数据的分布、SQL本身的逻辑等。我在[之前的总结](https://github.com/xumenger/xumenger.github.crack/tree/master/20170518~20170519-oracle-sql)中讲到了一个简单的SQL性能测试实验。同时也提到了那个测试实在是太肤浅了：

* 没有考虑到数据库的版本的影响
* 没有考虑测试程序机器性能的影响
* 没有考虑数据库服务器性能的影响
* 没有考虑到测试程序和数据库服务器通信的网络部分的影响
  * 假如网络特别不好，所有的测试都被网络条件限制住，SQL本身的性能根本体现不出来！
  * 上面的SQL测试至少包括以下流程：
    * 程序通过网络发送SQL给数据库服务器
    * 数据库服务器解析、执行SQL
    * 将结果通过网络发回给测试程序
  * 所以假如出现极端情况：
    * 一来一回的网络耗时为1000ms
    * 中间三种情况执行sql的分别是1ms、10ms、100ms
    * 真实的性能有10倍、100倍的差距
    * 但是因为上面的测试程序将网络时间包含在内
    * 假如如此情况发生，可能将真实的性能值掩盖
* 没有仔细看过：约束、索引
* 没有考虑过这个表的数据分布情况，特别是where后面对应这些条件的数据分布
* 没有考虑过表的数据增长情况，一个月、半年、一年后会是什么数据量
* 写完后没有仔细看过执行计划
* 还有更多技术细节没有考虑到，尤其是Oracle执行SQL的底层原理

所以那篇性能测试的文章也许其中很多的总结和分析都是有误导性的、是错误的，只是因为当前自己的知识水准不到位，根本就没有发现

### 不同开发语言下SQL的性能

工作中的项目分别有使用Delphi拼接SQL、Proc的方式取数据库委托的模式

测试了一下新上海的取委托性能（Proc程序取委托），可以达到3000笔/s

同样的，深五代任务是通过Delphi拼接SQL（ADO）的方式取委托，取委托可以达到600笔/s左右

SQL本身的写法会对性能产生影响，另外如上面所描述的，使用不同的开发模式：Delphi的ADO方式读写数据库（又分为普通方式和绑定变量方式）、Proc程序读写数据库，也许相同的SQL在性能上会有着极大的差距

---

>以上只是初步的接触和思考，系统化的整理在目前的知识水平情况下还做不出来，这里先将相关的文章和个人的思考罗列一下，等到进行更深入的学习和实践之后再来试着对数据库做个总结

>因为发现了数据库在系统架构、数据分析中的重要性，所以开始去研究数据库调优、SQL，那么对于数据库底层原理的学习就必不可少。在看了一些关于数据库的原理的博客、论文之后，发现最核心的还是算法和数据结构，背后还是数学和计算机科学的那些最基本的知识！！
